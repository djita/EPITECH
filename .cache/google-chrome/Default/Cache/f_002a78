<!DOCTYPE html>
<html lang="en-US">
<head>
<meta charset="UTF-8" />
<title>Getting your way with setxkbmap | Stephan Sokolow&#039;s Blog</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="stylesheet" type="text/css" media="all" href="http://blog.ssokolow.com/wp-content/plugins/css-compress.php/wp-content/themes/twentyten-child/style.css" />
<link rel="pingback" href="http://blog.ssokolow.com/xmlrpc.php" />
<link rel="alternate" type="application/rss+xml" title="Stephan Sokolow&#039;s Blog &raquo; Feed" href="http://blog.ssokolow.com/feed/" />
<link rel="alternate" type="application/rss+xml" title="Stephan Sokolow&#039;s Blog &raquo; Comments Feed" href="http://blog.ssokolow.com/comments/feed/" />
<link rel="alternate" type="application/rss+xml" title="Stephan Sokolow&#039;s Blog &raquo; Getting your way with setxkbmap Comments Feed" href="http://blog.ssokolow.com/archives/2011/12/24/getting-your-way-with-setxkbmap/feed/" />
<link rel='stylesheet' id='wordpress-popular-posts-css'  href='http://blog.ssokolow.com/wp-content/plugins/wordpress-popular-posts/style/wpp.css?ver=3.5.1' type='text/css' media='all' />
<link rel='stylesheet' id='sharedaddy-css'  href='http://blog.ssokolow.com/wp-content/plugins/sharedaddy/sharing.css?ver=3.5.1' type='text/css' media='all' />
<script type='text/javascript' src='http://blog.ssokolow.com/wp-includes/js/comment-reply.min.js?ver=3.5.1'></script>
<script type='text/javascript' src='http://blog.ssokolow.com/wp-includes/js/jquery/jquery.js?ver=1.8.3'></script>
<script type='text/javascript' src='http://blog.ssokolow.com/wp-content/themes/twentyten-child/scripts.js?ver=3.5.1'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="http://blog.ssokolow.com/xmlrpc.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="http://blog.ssokolow.com/wp-includes/wlwmanifest.xml" /> 
<link rel='prev' title='Activism and Human Psychology' href='http://blog.ssokolow.com/archives/2011/12/16/activism-and-human-psychology/' />
<link rel='next' title='Cleaner Firefox Context Menus Using Stylish' href='http://blog.ssokolow.com/archives/2011/12/26/cleaner-firefox-context-menus-using-stylish/' />
<meta name="generator" content="WordPress 3.5.1" />
<link rel='canonical' href='http://blog.ssokolow.com/archives/2011/12/24/getting-your-way-with-setxkbmap/' />
<link rel='shortlink' href='http://blog.ssokolow.com/?p=1079' />

<!-- Bad Behavior 2.2.13 run time: 14.188 ms -->
<script type="text/javascript">
<!--
function bb2_addLoadEvent(func) {
	var oldonload = window.onload;
	if (typeof window.onload != 'function') {
		window.onload = func;
	} else {
		window.onload = function() {
			oldonload();
			func();
		}
	}
}

bb2_addLoadEvent(function() {
	for ( i=0; i < document.forms.length; i++ ) {
		if (document.forms[i].method == 'post') {
			var myElement = document.createElement('input');
			myElement.setAttribute('type', 'hidden');
			myElement.name = 'bb2_screener_';
			myElement.value = '1363133384 163.5.22.50 163.5.22.50';
			document.forms[i].appendChild(myElement);
		}
	}
});
// --></script>
		
<!-- Creative Commons License added by Creative-Commons-Configurator plugin for WordPress
Get the plugin at: http://www.g-loaded.eu/2006/01/14/creative-commons-configurator-wordpress-plugin/ -->
<link rel="license" type="text/html" href="http://creativecommons.org/licenses/by-sa/3.0/" />

<style type="text/css"><!--
.cc-block { width: 90%; margin: 8px auto; padding: 4px; text-align: center; border: 1px solid #cccccc; color: #000000; background-color: #eef6e6; }
--></style>

<link rel="payment" type="text/html" title="Flattr this!" href="https://flattr.com/submit/auto?user_id=ssokolow&amp;popout=1&amp;url=http%3A%2F%2Fblog.ssokolow.com%2Farchives%2F2011%2F12%2F24%2Fgetting-your-way-with-setxkbmap%2F&amp;hidden=1&amp;language=en_GB&amp;category=text&amp;title=Getting+your+way+with+setxkbmap&amp;description=This+work%2C+unless+otherwise+expressly+stated%2C+is+licensed+under+a+Creative+Commons+Attribution-Share+Alike+3.0+Unported+License.Sharing%3ARedditIdenti.caDeliciousStumbleUpon+This+work%2C+unless+otherwise+expressly+stated%2C+is+licensed+under+a+Creative+Commons+Attribution-Share...&amp;tags=blog" />
<link rel="shortcut icon" href="http://blog.ssokolow.com/favicon.ico" type="image/x-icon" /><!-- Favi --><!-- *** WP-Piwik - see http://wordpress.org/extend/plugins/wp-piwik/ ******** -->
<!-- Piwik -->
<script type="text/javascript"> 
  var _paq = _paq || [];
  _paq.push(['trackPageView']);
  _paq.push(['enableLinkTracking']);
  (function() {
    var u=(("https:" == document.location.protocol) ? "https" : "http") + "://blog.ssokolow.com/stats//";
    _paq.push(['setTrackerUrl', u+'js/']);
    _paq.push(['setSiteId', 1]);
    var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0]; g.type='text/javascript';
    g.defer=true; g.async=true; g.src=u+'js/'; s.parentNode.insertBefore(g,s);
  })();

</script>
<noscript><p><img src="http://blog.ssokolow.com/stats/js/?idsite=1" style="border:0" alt="" /></p></noscript>
<!-- End Piwik Code -->
<!-- *** /WP-Piwik *********************************************************** -->
<!-- Wordpress Popular Posts v2.3.2 -->
<script type="text/javascript">
    /* <![CDATA[ */				
	jQuery.post('http://blog.ssokolow.com/wp-admin/admin-ajax.php', {action: 'wpp_update', token: 'f37741fe50', id: 1079}, function(data){/*alert(data);*/});
    /* ]]> */
</script>
<!-- End Wordpress Popular Posts v2.3.2 -->
            </head>

<body class="single single-post postid-1079 single-format-standard">
<div id="wrapper" class="hfeed">
	<div id="header">
		<div id="masthead">
			<div id="branding" role="banner">
								<div id="site-title">
					<span>
						<a href="http://blog.ssokolow.com/" title="Stephan Sokolow&#039;s Blog" rel="home">Stephan Sokolow&#039;s Blog</a>
					</span>
				</div>
				<div id="site-description"><form role="search" method="get" id="searchform" action="http://blog.ssokolow.com/" >
	<div><label class="screen-reader-text" for="s">Search for:</label>
	<input type="text" value="" name="s" id="s" />
	<input type="submit" id="searchsubmit" value="Search" />
	</div>
	</form></div>

							</div><!-- #branding -->

			<div id="access" role="navigation">
			  				<div class="skip-link screen-reader-text"><a href="#content" title="Skip to content">Skip to content</a></div>
								<div class="menu-header"><ul id="menu-main" class="menu"><li id="menu-item-586" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-586"><a href="http://blog.ssokolow.com/archives/category/general/geek-stuff/">Geek Stuff</a>
<ul class="sub-menu">
	<li id="menu-item-598" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-598"><a rel="me" href="http://www.ssokolow.com/">SSokolow.com</a></li>
	<li id="menu-item-589" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-589"><a rel="me" href="https://github.com/ssokolow">Projects @ GitHub</a></li>
	<li id="menu-item-592" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-592"><a rel="me" href="https://gist.github.com/ssokolow">Snippets @ GitHub Gists</a></li>
	<li id="menu-item-1347" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1347"><a rel="me" href="http://djangosnippets.org/users/ssokolow/">Snippets @ Django Snippets</a></li>
	<li id="menu-item-624" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-624"><a rel="me" href="http://ssokolow.tiddlyspace.com/">TiddlyWiki Plugins</a></li>
	<li id="menu-item-601" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-601"><a rel="me" href="http://userstyles.org/users/17680">Userstyles</a></li>
	<li id="menu-item-591" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-591"><a rel="me" href="http://www.delicious.com/ssokolow">Bookmarks</a></li>
	<li id="menu-item-781" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-781"><a title="Well, it&#8217;s very hacky, actually, sir." rel="me" href="http://www.ssokolow.com/scripts/index.html">Useful Hacks</a></li>
</ul>
</li>
<li id="menu-item-587" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-587"><a href="http://blog.ssokolow.com/archives/category/general/otaku-stuff/">Otaku Stuff</a>
<ul class="sub-menu">
	<li id="menu-item-595" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-595"><a href="http://www.ficfan.org/">FicFan.org</a></li>
	<li id="menu-item-596" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-596"><a href="http://gbindex.ssokolow.com/">Gender-Bending Fic Index</a></li>
	<li id="menu-item-597" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-597"><a href="http://vffa.ficfan.org/">Vanished FanFic Archive</a></li>
	<li id="menu-item-590" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-590"><a rel="me" href="http://www.fanfiction.net/u/537536/">Favorites @ Fanfiction.net</a></li>
	<li id="menu-item-593" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-593"><a title="Fanfiction micro-reviews" rel="me" href="http://identi.ca/ssokolow">Reviews @ Identi.ca</a></li>
	<li id="menu-item-594" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-594"><a title="Fanfiction micro-reviews" rel="me" href="http://twitter.com/#!/deitarion">Reviews @ Twitter</a></li>
</ul>
</li>
<li id="menu-item-717" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-717"><a href="http://blog.ssokolow.com/archives/category/general/writing/">On Writing</a></li>
<li id="menu-item-600" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-600"><a rel="me" href="http://careers.stackoverflow.com/ssokolow">Careers 2.0 Profile</a></li>
<li id="menu-item-585" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-585"><a rel="me" href="http://blog.ssokolow.com/contact/">Contact Me</a></li>
</ul></div>			</div><!-- #access -->
		</div><!-- #masthead -->
	</div><!-- #header -->

	<div id="main">

		<div id="container">
			<div id="content" role="main">

			

				<div id="nav-above" class="navigation">
					<div class="nav-previous"><a href="http://blog.ssokolow.com/archives/2011/12/16/activism-and-human-psychology/" rel="prev"><span class="meta-nav">&larr;</span> Activism and Human Psychology</a></div>
					<div class="nav-next"><a href="http://blog.ssokolow.com/archives/2011/12/26/cleaner-firefox-context-menus-using-stylish/" rel="next">Cleaner Firefox Context Menus Using Stylish <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-above -->

				<div id="post-1079" class="post-1079 post type-post status-publish format-standard hentry category-geek-stuff">
					<h1 class="entry-title">Getting your way with setxkbmap</h1>

					<div class="entry-meta">
						<span class="meta-prep meta-prep-author">Posted on</span> <a href="http://blog.ssokolow.com/archives/2011/12/24/getting-your-way-with-setxkbmap/" title="5:47" rel="bookmark"><span class="entry-date">2011-12-24</span></a> <span class="meta-sep">by</span> <span class="author vcard"><a class="url fn n" href="http://blog.ssokolow.com/archives/author/admin/" title="View all posts by Stephan Sokolow">Stephan Sokolow</a></span>					</div><!-- .entry-meta -->

					<div class="entry-content">
						<p class="wp-flattr-button"><a class="FlattrButton" style="display:none;" href="http://blog.ssokolow.com/archives/2011/12/24/getting-your-way-with-setxkbmap/" title=" Getting your way with setxkbmap" rev="flattr;uid:ssokolow;language:en_GB;category:text;tags:blog;hidden:1;button:compact;">If you&#8217;ve ever poked around in the KDE or GNOME control panels, you know that the X11 keyboard system is very customizable and, as the KDE keyboard controls clearly show,...</a></p><p>If you&#8217;ve ever poked around in the KDE or GNOME control panels, you know that the X11 keyboard system is <strong>very</strong> customizable and, as the KDE keyboard controls clearly show, that it&#8217;s all done using a little command named <code>setxkbmap</code>.</p>
<p>The problem is, Google isn&#8217;t very helpful if you want to use this tool directly. All the results seem to tell you to read the raw config files or only give you single, purpose-specific examples.</p>
<p>The good news is that your system actually DOES include a single file equivalent to (and probably the source for) the listings you get in the GUI tools:</p>
<pre>/usr/share/X11/xkb/rules/base.lst</pre>
<p>For those who haven&#8217;t used KDE and need an example, here&#8217;s the command I run on login (These can also be specified in xorg.conf via Option directives, but I prefer something I can keep in my roaming profile):<br />
<code></code></p>
<pre>setxkbmap \
  -variant altgr-intl \
  -option \
  -option compose:rctrl \
  -option lv3:ralt_switch \
  -option terminate:ctrl_alt_bkspc \
  -option eurosign:e \
  -option nbsp:level3n</pre>
<p>As usual, the backslashes are only necessary if you&#8217;re splitting it across multiple lines. Here&#8217;s what they actually do when used with a <code>us104</code> or <code>us105</code> layout:</p>
<dl>
<dt>-variant altgr-intl</dt>
<dd>The default variant of the US 104 layout doesn&#8217;t have tertiary symbols like ¢ and þ for AltGr to access, so I&#8217;m selecting one that does.</dd>
<dd>You can also use the <code>intl</code> variant here but, for some reason, it maps ² to AltGr+2 and ³ to AltGr+3 but ¹ to AltGr+Shift+1.</dd>
<dt>-option</dt>
<dd>An empty <code>-option</code> resets the layout options so I&#8217;m starting from a clean slate.</dd>
<dt>-option compose:rctrl</dt>
<dd>This remaps the <code>Control_R</code> keysym to <code>Compose</code>, so I can access glyphs like ½, ±, and é by typing &#8220;<code>Ctrl 1 2</code>&#8221; or &#8220;<code>Ctrl + -" or "</code><code>Ctrl e '</code>&#8220;.</dd>
<dt>-option lv3:ralt_switch</dt>
<dd>This remaps <code>Alt_R</code> to <code>AltGr</code>, granting access to ¬ (AltGr+\) for making ¬_¬ smileys and giving me simpler key combos for commonly-used glyphs like µ (AltGr+m) and © (AltGr+c).</dd>
<dd>You can also use <code>ralt_switch_multikey</code> here to make Shift+AltGr the Compose key on compact keyboards but my muscle memory has already settled on <code>Control_R</code>. (Note: Make sure you press Shift first or it&#8217;ll just send an ordinary AltGr+Shift)</dd>
<dd><strong>Note:</strong>If anyone knows why ¬ is no longer on <code>AltGr+`</code>, please leave a comment.</dd>
<dt>-option terminate:ctrl_alt_bkspc</dt>
<dd>Restore Ctrl+Alt+Backspace as the &#8220;Kill X Server&#8221; shortcut without relying on a superior but root-privileged and Linux-only <a title="Linux 2.4.2 Secure Attention Key (SAK) handling" href="http://www.mjmwired.net/kernel/Documentation/SAK.txt">config tweak</a>.</dd>
<dd>(Again, I like settings I can store in my roaming profile)</dd>
<dt>-option eurosign:e</dt>
<dd>I&#8217;m Canadian, so on the occasions I need to type €, it can take me a while to remember that it has two cross-bars so I know to use &#8220;<code>Compose e =</code>&#8220;. Since my muscle memory already uses &#8220;<code>Compose e '</code>&#8221; for é anyway, let&#8217;s remap <code>AltGr+e</code> to €.</dd>
<dt>-option nbsp:level3n</dt>
<dd>Lets me type non-breaking spaces with <code>AltGr+Space</code> for those times when <code>&amp;nbsp;</code> doesn&#8217;t have special meaning.</dd>
<dd>Using <code>level3n</code> rather than <code>level3</code> lets me type thin non-breaking spaces with <code>Shift+AltGr+Space</code>.</dd>
</dl>
<hr />
<p>The beauty of doing things this way is that you&#8217;re unlikely to break things badly. It&#8217;s nearly impossible to paint yourself into a corner using variants and options alone (It&#8217;s models and layouts you have to be careful with) and, if you ever try to apply your settings to a keyboard they weren&#8217;t intended for, an unrecognized variant will abort the process and unrecognized options will simply have no effect.</p>
<p>Have fun and, if you&#8217;ve got any other interesting keyboard tweaks, share them in the comments. If I like one that applies to <code>us104</code> enough to use it myself, I&#8217;ll update the example in the post body.</p>

<!-- Creative Commons License -->
<p class="cc-block"><a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative Commons License" src="http://i.creativecommons.org/l/by-sa/3.0/88x31.png" class="cc-button" /></a><br />This work, unless otherwise expressly stated, is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/3.0/">Creative Commons Attribution-Share Alike 3.0 Unported License</a>.</p>
<!-- /Creative Commons License -->
											</div><!-- .entry-content -->


					<div class="entry-utility">
						This entry was posted in <a href="http://blog.ssokolow.com/archives/category/general/geek-stuff/" title="View all posts in Geek Stuff" rel="category tag">Geek Stuff</a>. Bookmark the <a href="http://blog.ssokolow.com/archives/2011/12/24/getting-your-way-with-setxkbmap/" title="Permalink to Getting your way with setxkbmap" rel="bookmark">permalink</a>.											</div><!-- .entry-utility -->
				</div><!-- #post-## -->

				<div id="nav-below" class="navigation">
					<div class="nav-previous"><a href="http://blog.ssokolow.com/archives/2011/12/16/activism-and-human-psychology/" rel="prev"><span class="meta-nav">&larr;</span> Activism and Human Psychology</a></div>
					<div class="nav-next"><a href="http://blog.ssokolow.com/archives/2011/12/26/cleaner-firefox-context-menus-using-stylish/" rel="next">Cleaner Firefox Context Menus Using Stylish <span class="meta-nav">&rarr;</span></a></div>
				</div><!-- #nav-below -->

				<div class='related-block'>
					<div class='yarpp-related yarpp-related-none'>
<p>No related posts.</p>
<img src='http://yarpp.org/pixels/6e5d664193e4601ce4334b8b3514f40d'/>
</div>
				</div>
								
			<div id="comments">


			<h3 id="comments-title">8 Responses to <em>Getting your way with setxkbmap</em></h3>


			<ol class="commentlist">
					<li class="comment even thread-even depth-1" id="li-comment-6112">
		<div id="comment-6112">
			<div class="comment-author vcard">
				<img alt='' src='http://0.gravatar.com/avatar/07d31f54c8428c405ec043149c0729ac?s=40&amp;d=&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />				<cite class="fn">k2</cite> <span class="says">says:</span>			</div><!-- .comment-author .vcard -->
			
			<div class="comment-meta commentmetadata"><a href="http://blog.ssokolow.com/archives/2011/12/24/getting-your-way-with-setxkbmap/comment-page-1/#comment-6112">
				2012-01-29 at 16:10</a>			</div><!-- .comment-meta .commentmetadata -->

			<div class="comment-body"><p>I have us104 and not nice and easy PC edition but mac (it&#8217;s like 105 but without menu key and grave/tilde changed position with grater/lesser).<br />
On top of that my native language is polish so i often use ISO level 3.<br />
To make things even more wild I&#8217;m using Emacs a lot.</p>
<p>So this is my maping:</p>
<p>I use setxkbmap for swapping caps and control and changing both alt to ISO_level3_shift:<br />
ctrl:swapcaps,lv3:alt_switch</p>
<p>i couldn&#8217;t figure out how to make setxkbmap do things from benth and things from setxkbmap didn&#8217;t work in xmodmap neither </p>
<p>content of my ~/.Xmodmap:</p>
<p>! left corner keyboard wierdo as asciitilde<br />
keycode 0x5E =	grave	asciitilde	grave	asciitilde	notsign	notsign</p>
<p>! keyboard tilde as alt (on the right side of left shift)<br />
keycode 0&#215;31 =	Alt_L	Meta_L	Alt_L	Meta_L</p>
<p>! keyboard cmd as alt<br />
remove Mod4 =	Super_R<br />
keycode 0&#215;86 =	Alt_L	Meta_L	Alt_L	Meta_L</p>
<p>! register both new alt&#8217;s<br />
add    Mod1    = Alt_L Alt_L</p>
</div>

			<div class="reply">
				<a class='comment-reply-link' href='/archives/2011/12/24/getting-your-way-with-setxkbmap/?replytocom=6112#respond' onclick='return addComment.moveForm("comment-6112", "6112", "respond", "1079")'>Reply</a>			</div><!-- .reply -->
		</div><!-- #comment-##  -->

	</li>
	<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-8886">
		<div id="comment-8886">
			<div class="comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/78bec24f8835790f1a6937ca53cdeadd?s=40&amp;d=&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />				<cite class="fn">rix</cite> <span class="says">says:</span>			</div><!-- .comment-author .vcard -->
			
			<div class="comment-meta commentmetadata"><a href="http://blog.ssokolow.com/archives/2011/12/24/getting-your-way-with-setxkbmap/comment-page-1/#comment-8886">
				2012-08-02 at 3:16</a>			</div><!-- .comment-meta .commentmetadata -->

			<div class="comment-body"><p>Thanks for this one! While playing around, I screwed up and couldn&#8217;t use AltGr properly anymore (accidently set it as compose key). Running setxkbmap with an empty -option got everything back to normal.</p>
</div>

			<div class="reply">
				<a class='comment-reply-link' href='/archives/2011/12/24/getting-your-way-with-setxkbmap/?replytocom=8886#respond' onclick='return addComment.moveForm("comment-8886", "8886", "respond", "1079")'>Reply</a>			</div><!-- .reply -->
		</div><!-- #comment-##  -->

	</li>
	<li class="post pingback">
		<p>Pingback: <a href='http://jubilo.motd.org/2012/09/swapping-control-and-capslock/' rel='external nofollow' class='url'>The Telnet Mars &raquo; Swapping Control and CapsLock</a></p>
	</li>
	<li class="comment even thread-even depth-1" id="li-comment-11242">
		<div id="comment-11242">
			<div class="comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/f40f53ccadc23b91533abc3523d0a45c?s=40&amp;d=&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />				<cite class="fn"><a href='http://abaqueiro.blogspot.mx/' rel='external nofollow' class='url'>Alfonso Baqueiro</a></cite> <span class="says">says:</span>			</div><!-- .comment-author .vcard -->
			
			<div class="comment-meta commentmetadata"><a href="http://blog.ssokolow.com/archives/2011/12/24/getting-your-way-with-setxkbmap/comment-page-1/#comment-11242">
				2012-11-20 at 17:51</a>			</div><!-- .comment-meta .commentmetadata -->

			<div class="comment-body"><p>Good post!!!</p>
<p>I  bought a Perfect Choice small wireless keyboard, the problem is it does not have AltGr Key, ¿how do I map the useless windows key as AltGr? Please help me!</p>
</div>

			<div class="reply">
				<a class='comment-reply-link' href='/archives/2011/12/24/getting-your-way-with-setxkbmap/?replytocom=11242#respond' onclick='return addComment.moveForm("comment-11242", "11242", "respond", "1079")'>Reply</a>			</div><!-- .reply -->
		</div><!-- #comment-##  -->

	<ul class='children'>
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-11244">
		<div id="comment-11244">
			<div class="comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/d6f8c5b7188efdee9205043a2792683c?s=40&amp;d=&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />				<cite class="fn"><a href='http://www.ssokolow.com/' rel='external nofollow' class='url'>Stephan Sokolow</a></cite> <span class="says">says:</span>			</div><!-- .comment-author .vcard -->
			
			<div class="comment-meta commentmetadata"><a href="http://blog.ssokolow.com/archives/2011/12/24/getting-your-way-with-setxkbmap/comment-page-1/#comment-11244">
				2012-11-20 at 18:12</a>			</div><!-- .comment-meta .commentmetadata -->

			<div class="comment-body"><p>First, check what your system sees the desired key as by running &#8220;<code>xev</code>&#8221; in a terminal and pressing that key.</p>
<p>Mine sees my right Windows key as &#8220;<code>keycode 134 (keysym 0xffec, Super_R)</code>&#8220;. If yours doesn&#8217;t, you may need to use &#8220;<code>xmodmap</code>&#8221; to remap it if the following instructions don&#8217;t work.</p>
<p>Second, run &#8220;<code>grep lv3: /usr/share/X11/xkb/rules/base.lst</code>&#8221; and pick the option for that key. (Internally, X11 refers to AltGr as &#8220;Level 3 Shift&#8221;)</p>
<p>Finally, add an appropriate setxkbmap to run at startup in your X11 session. For my example, it would be this:</p>
<p><code>setxkbmap  -option lv3:rwin_switch</code></p>
<p>If you want <em>both</em> Windows keys to be AltGr (rather than leaving one free for making interesting global keyboard shortcuts like Play/Pause), use <code>lv3:win_switch</code> instead.</p>
</div>

			<div class="reply">
				<a class='comment-reply-link' href='/archives/2011/12/24/getting-your-way-with-setxkbmap/?replytocom=11244#respond' onclick='return addComment.moveForm("comment-11244", "11244", "respond", "1079")'>Reply</a>			</div><!-- .reply -->
		</div><!-- #comment-##  -->

	</li>
</ul>
</li>
	<li class="post pingback">
		<p>Pingback: <a href='http://fransdejonge.com/2013/02/compose-key-on-xfce/' rel='external nofollow' class='url'>Compose Key on Xfce | The One with the Thoughts of Frans</a></p>
	</li>
	<li class="comment even thread-odd thread-alt depth-1" id="li-comment-14618">
		<div id="comment-14618">
			<div class="comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/5bd5a41efe7688a01233b3375ed42759?s=40&amp;d=&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />				<cite class="fn"><a href='http://schultkl.blogspot.com/2012/09/errata-configuring-debian-gnulinux-605.html' rel='external nofollow' class='url'>Kevin Schultz</a></cite> <span class="says">says:</span>			</div><!-- .comment-author .vcard -->
			
			<div class="comment-meta commentmetadata"><a href="http://blog.ssokolow.com/archives/2011/12/24/getting-your-way-with-setxkbmap/comment-page-1/#comment-14618">
				2013-02-18 at 7:11</a>			</div><!-- .comment-meta .commentmetadata -->

			<div class="comment-body"><p>*Thank you* for writing this post. </p>
<p>As a dvorak user, it took me some time to get my head wrapped around the concept of models, layouts, and variants. I eventually got my dual-variant working as follows:</p>
<p><code><br />
setxkbmap \<br />
  -model pc105 \<br />
  -layout 'us(dvorak-intl),us(alt-intl)' \<br />
  -option \<br />
  -option grp:lctrl_lshift_toggle \<br />
  -option compose:rwin<br />
</code></p>
<p>I use Ctrl+Shift to toggle between the two variants, so other people can use my keyboard. I am using a 78-key Apple A1314 Bluetooth keyboard on Debian Squeeze.</p>
<p>Note: it seems like you may omit &#8220;-option lv3:ralt_switch&#8221; as a parameter, as file /usr/share/X11/xkb/symbols/us , variant &#8220;altgr-intl,&#8221; seems to call &#8220;include &#8220;level3(ralt_switch)&#8221; to do this as a courtesy.</p>
<p>Also, re: &#8220;Note:If anyone knows why ¬ is no longer on AltGr+`, please leave a comment.&#8221;: </p>
<p>I checked the X.Org repository&#8230;the <a href="http://cgit.freedesktop.org/xkeyboard-config/commit/symbols/us?id=9bbda6bfbcc29a575ea3b5cb7bd2553767e80d53" rel="nofollow">initial</a> 2004-04-10 commit only had basic and intl variants (us layout). At this point, symbol &#8220;notsign&#8221; mapped to key BKSL (backslash).</p>
<p>Variant altgr-intl inherits from variant intl. The initial altgr-intl <a href="http://cgit.freedesktop.org/xkeyboard-config/commit/symbols/us?id=5764e1e88d21f128af30ae55592cfc5c8d3f4776" rel="nofollow">commit</a> did not seem to reference symbol notsign&#8230;curious to hear if you found the answer why&#8230;.</p>
<p>Thanks again.</p>
</div>

			<div class="reply">
				<a class='comment-reply-link' href='/archives/2011/12/24/getting-your-way-with-setxkbmap/?replytocom=14618#respond' onclick='return addComment.moveForm("comment-14618", "14618", "respond", "1079")'>Reply</a>			</div><!-- .reply -->
		</div><!-- #comment-##  -->

	<ul class='children'>
	<li class="comment byuser comment-author-admin bypostauthor odd alt depth-2" id="li-comment-14830">
		<div id="comment-14830">
			<div class="comment-author vcard">
				<img alt='' src='http://1.gravatar.com/avatar/d6f8c5b7188efdee9205043a2792683c?s=40&amp;d=&amp;r=G' class='avatar avatar-40 photo' height='40' width='40' />				<cite class="fn"><a href='http://www.ssokolow.com/' rel='external nofollow' class='url'>Stephan Sokolow</a></cite> <span class="says">says:</span>			</div><!-- .comment-author .vcard -->
			
			<div class="comment-meta commentmetadata"><a href="http://blog.ssokolow.com/archives/2011/12/24/getting-your-way-with-setxkbmap/comment-page-1/#comment-14830">
				2013-02-24 at 19:23</a>			</div><!-- .comment-meta .commentmetadata -->

			<div class="comment-body"><p>I&#8217;m actually not sure if it was the <code>altgr-intl</code> variant. All I know is that, several years ago, when I was running Gentoo, I was running some kind of keymap which gave me the standard US 104 keyboard layout but put notsign on <code>AltGr+`</code>.</p>
<p>In fact, now that I think about it, the <code>intl</code> variant would probably have been the first one I tried back then, so the question might actually be &#8220;Why did AltGr+1 stop being ¹?&#8221;</p>
</div>

			<div class="reply">
				<a class='comment-reply-link' href='/archives/2011/12/24/getting-your-way-with-setxkbmap/?replytocom=14830#respond' onclick='return addComment.moveForm("comment-14830", "14830", "respond", "1079")'>Reply</a>			</div><!-- .reply -->
		</div><!-- #comment-##  -->

	</li>
</ul>
</li>
			</ol>


	

								<div id="respond">
				<h3 id="reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/archives/2011/12/24/getting-your-way-with-setxkbmap/#respond" style="display:none;">Cancel reply</a></small></h3>
									<form action="http://blog.ssokolow.com/wp-comments-post.php" method="post" id="commentform">
																			<p class="comment-notes">Your email address will not be published. Required fields are marked <span class="required">*</span></p>							<p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" aria-required='true' /></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" aria-required='true' /></p>
<p class="comment-form-url"><label for="url">Website</label><input id="url" name="url" type="text" value="" size="30" /></p>
												<p class="comment-form-comment"><label for="comment">Comment</label><textarea id="comment" name="comment" cols="45" rows="8" aria-required="true"></textarea></p>						<p class="form-allowed-tags">You may use these <abbr title="HyperText Markup Language">HTML</abbr> tags and attributes:  <code>&lt;a href=&quot;&quot; title=&quot;&quot;&gt; &lt;abbr title=&quot;&quot;&gt; &lt;acronym title=&quot;&quot;&gt; &lt;b&gt; &lt;blockquote cite=&quot;&quot;&gt; &lt;cite&gt; &lt;code&gt; &lt;del datetime=&quot;&quot;&gt; &lt;em&gt; &lt;i&gt; &lt;q cite=&quot;&quot;&gt; &lt;strike&gt; &lt;strong&gt; </code></p>						<p class="form-submit">
							<input name="submit" type="submit" id="submit" value="Post Comment" />
							<input type='hidden' name='comment_post_ID' value='1079' id='comment_post_ID' />
<input type='hidden' name='comment_parent' id='comment_parent' value='0' />
						</p>
						<input type="hidden" id="sk2_time" name="sk2_time" value="1363133384" /><input type="hidden" id="sk2_ip" name="sk2_ip" value="163.5.22.50" /><input type="hidden" id="sk2_payload" name="sk2_payload" value="ae44f81eac8c2dfb96f962820e1807b7" /><input type="hidden" id="sk2_my_js_check1" name="sk2_my_js_check1" value="4xt7l7rely" />
<input type="hidden" id="sk2_my_js_check2" name="sk2_my_js_check2" value="e718af63ebb93c4a4a8823916238816c" />
<script type="text/javascript">
<!--
	document.write('<input type="hidden" id="sk2_my_js_payload" name="sk2_my_js_payload" value="');
	document.write(Math.round ( Math.abs(Math.round ( Math.abs(Math.max(Math.max(((Math.max(1, 11) - 40) * 35), 33), 38) / 25)))));
	document.write('" />');
-->
</script>
<p class="comment_license">By submitting a comment here you grant this site a perpetual license to reproduce your words and name/web site in attribution under the same terms as the associated post.</p>					</form>
							</div><!-- #respond -->
						
</div><!-- #comments -->


			</div><!-- #content -->
		</div><!-- #container -->


		<div id="primary" class="widget-area" role="complementary">
			<ul class="xoxo">

<li id="text-9" class="widget-container widget_text"><h3 class="widget-title">About the Author</h3>			<div class="textwidget"><img src="/wp-content/photo.jpg" style="float: left; padding: 1ex 1em 1ex 1ex" />
<p style="padding-top: 1ex">Stephan is currently studying for a bachelor's degree in Computer Information Science.
<p style="clear: left; margin-bottom: 1ex">In his free time, he focuses on:</p>
<ul>
<li>Linux and <a href="http://en.wikipedia.org/wiki/The_Free_Software_Definition" title="The Free Software Definition @ Wikipedia">software</a> <a href="https://en.wikipedia.org/wiki/Debian_Free_Software_Guidelines" title="Debian Free Software Guidelines @ Wikipedia">freedom</a></li>
<li><acronym title="Human-Computer Interaction">HCI</acronym> and <acronym title="User Interface">UI</acronym>/<acronym title="User Experience">UX</acronym> design</li>
<li>Programming (mainly Python)</li>
<li>Reading sci-fi and fanfiction</li>
</ul>
<p style="margin-top: 1ex">... but he prefers to keep his web <acronym title="User Interfaces">UIs</acronym> utilitarian and leave graphic design to the experts.</p></div>
		</li><!-- Wordpress Popular Posts Plugin v2.3.2 [W] [monthly] [regular] -->
<li id="wpp-2" class="widget-container popular-posts">
<h3 class="widget-title">Popular Posts</h3><!-- Wordpress Popular Posts Plugin v2.3.2 [Widget] [monthly] [regular] -->
<ul>
<li><a href="http://blog.ssokolow.com/archives/2012/02/09/downloading-youtube-subtitles/" title="Downloading YouTube Subtitles" class="wpp-post-title">Downloading YouTube Subtitles</a> <span class="post-stats"></span></li>
<li><a href="http://blog.ssokolow.com/archives/2012/06/13/github-vs-bitbucket-shifting-value-propositions/" title="GitHub vs. BitBucket: Shifting Value Propositions" class="wpp-post-title">GitHub vs. BitBucket: Shifting Value Propositions</a> <span class="post-stats"></span></li>
<li><a href="http://blog.ssokolow.com/archives/2011/07/30/50-naruto-authors-who-did-something-well/" title="50+ Naruto Authors Who Did Something Well" class="wpp-post-title">50+ Naruto Authors Who Did Something Well</a> <span class="post-stats"></span></li>
<li><a href="http://blog.ssokolow.com/archives/2011/11/13/my-impressions-of-fat-free-framework-for-php/" title="My impressions of Fat-Free Framework for PHP" class="wpp-post-title">My impressions of Fat-Free Framework for PHP</a> <span class="post-stats"></span></li>
<li><a href="http://blog.ssokolow.com/archives/2011/12/24/getting-your-way-with-setxkbmap/" title="Getting your way with setxkbmap" class="wpp-post-title">Getting your way with setxkbmap</a> <span class="post-stats"></span></li>

</ul>
</li>
<!-- End Wordpress Popular Posts Plugin v2.3.2 -->
<li id="text-8" class="widget-container widget_text">			<div class="textwidget"><style>#pw_adbox_59505_4_0 table { 
  margin: auto;
  width: 180px !important;
}</style>
<!-- Project Wonderful Ad Box Loader -->
<!-- Put this after the <body> tag at the top of your page -->
<script type="text/javascript">
   (function(){function pw_load(){
      if(arguments.callee.z)return;else arguments.callee.z=true;
      var d=document;var s=d.createElement('script');
      var x=d.getElementsByTagName('script')[0];
      s.type='text/javascript';s.async=true;
      s.src='//www.projectwonderful.com/pwa.js';
      x.parentNode.insertBefore(s,x);}
   if (window.attachEvent){
    window.attachEvent('DOMContentLoaded',pw_load);
    window.attachEvent('onload',pw_load);}
   else{
    window.addEventListener('DOMContentLoaded',pw_load,false);
    window.addEventListener('load',pw_load,false);}})();
</script>
<!-- End Project Wonderful Ad Box Loader -->
<!-- Project Wonderful Ad Box Code -->
<div id="pw_adbox_59505_4_0"></div>
<script type="text/javascript"></script>
<noscript><map name="admap59505" id="admap59505"><area href="http://www.projectwonderful.com/out_nojs.php?r=0&c=0&id=59505&type=4" shape="rect" coords="0,0,125,125" title="" alt="" target="_top" rel="nofollow" /></map>
<table cellpadding="0" border="0" cellspacing="0" width="125" bgcolor="#ffffff"><tr><td><img src="http://www.projectwonderful.com/nojs.php?id=59505&type=4" width="125" height="125" usemap="#admap59505" border="0" alt="" /></td></tr><tr><td bgcolor="#ffffff" colspan="1"><center><a style="font-size:10px;color:#0000ff;text-decoration:none;line-height:1.2;font-weight:bold;font-family:Tahoma, verdana,arial,helvetica,sans-serif;text-transform: none;letter-spacing:normal;text-shadow:none;white-space:normal;word-spacing:normal;" href="http://www.projectwonderful.com/advertisehere.php?id=59505&type=4&tag=6354" target="_blank">Ads by Project Wonderful!  Your ad here, right now: $0.02</a></center></td></tr></table>
</noscript>
<!-- End Project Wonderful Ad Box Code --></div>
		</li><li id="calendar-2" class="widget-container widget_calendar"><div id="calendar_wrap"><table id="wp-calendar">
	<caption>December 2011</caption>
	<thead>
	<tr>
		<th scope="col" title="Sunday">S</th>
		<th scope="col" title="Monday">M</th>
		<th scope="col" title="Tuesday">T</th>
		<th scope="col" title="Wednesday">W</th>
		<th scope="col" title="Thursday">T</th>
		<th scope="col" title="Friday">F</th>
		<th scope="col" title="Saturday">S</th>
	</tr>
	</thead>

	<tfoot>
	<tr>
		<td colspan="3" id="prev"><a href="http://blog.ssokolow.com/archives/2011/11/" title="View posts for November 2011">&laquo; Nov</a></td>
		<td class="pad">&nbsp;</td>
		<td colspan="3" id="next"><a href="http://blog.ssokolow.com/archives/2012/01/" title="View posts for January 2012">Jan &raquo;</a></td>
	</tr>
	</tfoot>

	<tbody>
	<tr>
		<td colspan="4" class="pad">&nbsp;</td><td>1</td><td>2</td><td>3</td>
	</tr>
	<tr>
		<td>4</td><td><a href="http://blog.ssokolow.com/archives/2011/12/05/" title="Ultra-lightweight Network File Moving for Linux/UNIX">5</a></td><td>6</td><td>7</td><td>8</td><td>9</td><td>10</td>
	</tr>
	<tr>
		<td>11</td><td>12</td><td><a href="http://blog.ssokolow.com/archives/2011/12/13/" title="Personal Status Update and Some Extra Modules for Porteus">13</a></td><td>14</td><td>15</td><td><a href="http://blog.ssokolow.com/archives/2011/12/16/" title="Activism and Human Psychology">16</a></td><td>17</td>
	</tr>
	<tr>
		<td>18</td><td>19</td><td>20</td><td>21</td><td>22</td><td>23</td><td><a href="http://blog.ssokolow.com/archives/2011/12/24/" title="Getting your way with setxkbmap">24</a></td>
	</tr>
	<tr>
		<td>25</td><td><a href="http://blog.ssokolow.com/archives/2011/12/26/" title="Cleaner Firefox Context Menus Using Stylish">26</a></td><td>27</td><td>28</td><td>29</td><td>30</td><td>31</td>
	</tr>
	</tbody>
	</table></div></li><li id="text-2" class="widget-container widget_text"><h3 class="widget-title">Elsewhere&#8230;</h3>			<div class="textwidget"><iframe class="seamless" src="/wp-content/lifestream.html" width="200" height="500" scrolling="no"></iframe></div>
		</li><li id="meta-2" class="widget-container widget_meta"><h3 class="widget-title">Meta</h3>			<ul>
						<li><a href="http://blog.ssokolow.com/wp-login.php">Log in</a></li>
			<li><a href="http://blog.ssokolow.com/feed/" title="Syndicate this site using RSS 2.0">Entries <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://blog.ssokolow.com/comments/feed/" title="The latest comments to all posts in RSS">Comments <abbr title="Really Simple Syndication">RSS</abbr></a></li>
			<li><a href="http://wordpress.org/" title="Powered by WordPress, state-of-the-art semantic personal publishing platform.">WordPress.org</a></li>
						</ul>
</li><li id="linkcat-38" class="widget-container widget_links"><h3 class="widget-title">Geek Links</h3>
	<ul class='xoxo blogroll'>
<li><a href="http://planet.chromium.org/" title="All that&#8217;s nifty in the world of Google Chrome">Planet Chromium</a></li>
<li><a href="http://planet.freedesktop.org/">Planet FreeDesktop.org</a></li>
<li><a href="http://planet.mozilla.org/" title="All that&#8217;s nifty in the world of Mozilla">Planet Mozilla</a></li>
<li><a href="http://labs.qt.nokia.com/" title="All that&#8217;s nifty from the Qt developers">Qt Labs Blogs</a></li>

	</ul>
</li>
<li id="linkcat-2" class="widget-container widget_links"><h3 class="widget-title">Otaku Links</h3>
	<ul class='xoxo blogroll'>
<li><a href="http://mujaji.net/kia/" title="Harry Potter fanfiction recommendation blog">Know It Alls (HP fic recs)</a></li>
<li><a href="http://xenia.blogsome.com/" title="Another place to find more reading material">Musetta’s Fanfiction Recs</a></li>

	</ul>
</li>
<li id="text-3" class="widget-container widget_text">			<div class="textwidget"><a href="https://www.nearlyfreespeech.net/" style="margin-left: 1em"><img src="https://www.nearlyfreespeech.net/logos/nfsn120x42logo.gif" border="0" alt="This site powered by: NearlyFreeSpeech.NET" /></a></div>
		</li><li id="text-5" class="widget-container widget_text">			<div class="textwidget"><a href="http://ssokolow.deviantart.com/" title="My art and select photos" rel="me"></a><a href="http://www.flickr.com/photos/ssokolow" title="My photos and screenshots" rel="me"></a><a href="http://www.instructables.com/member/ssokolow/" rel="me" title="My favorite Instructables projects"></a><a href="http://userscripts.org/users/4633" title="Greasemonkey scripts" rel="me"></a><a href="https://launchpad.net/~ssokolow" rel="me" title="Projects of mine which use Bazaar for revision control"></a><a href="http://www.youtube.com/profile?user=ssokolow" rel="me"></a><a href="http://friendfeed.com/ssokolow" rel="me"></a><a href="http://ssokolow.pip.verisignlabs.com/" title="VeriSign Labs PIP"></a><a href="http://ssokolow.myopenid.com/" title="myOpenID"></a></div>
		</li>			</ul>
		</div><!-- #primary .widget-area -->

	</div><!-- #main -->

	<div id="footer" role="contentinfo">
		<div id="colophon">



			<div id="site-info">
				<a href="http://blog.ssokolow.com/" title="Stephan Sokolow&#039;s Blog" rel="home">
					Stephan Sokolow&#039;s Blog				</a>
			</div><!-- #site-info -->

			<div id="site-generator">
								Programming, Linux, Web, and the odd Fiction Review			</div><!-- #site-generator -->

		</div><!-- #colophon -->
	</div><!-- #footer -->

</div><!-- #wrapper -->

<script type='text/javascript' src='http://blog.ssokolow.com/wp-content/plugins/sharedaddy/sharing.js?ver=0.1'></script>
<script type="text/javascript">
          (function() {
            var s = document.createElement('script'), t = document.getElementsByTagName('script')[0];
            s.type = 'text/javascript';
            s.async = true;
            s.src = 'http://api.flattr.com/js/0.6/load.js?mode=auto';
            t.parentNode.insertBefore(s, t);
          })();
        </script></body>
</html>
